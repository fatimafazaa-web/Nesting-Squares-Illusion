<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© Ù…Ø¹ ØµÙˆØ±Ø© / Canva</title>
  <style>
    body { font-family: system-ui, Arial; padding: 20px; direction: rtl; }
    h2 { margin: 0 0 8px 0; }
    ul { list-style: none; margin: 6px 0 6px 18px; padding-left: 8px; }
    li { margin: 6px 0; }
    label { cursor: pointer; user-select: none; display: inline-flex; gap: 8px; align-items: center; }
    .controls { margin-top: 12px; display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
    .box { background:#f7f7f7; padding:12px; border-radius:6px; display:inline-block; vertical-align:top; }
    .image-panel { display:inline-block; margin-left:18px; vertical-align:top; max-width:360px; }
    .image-panel img, .image-panel iframe { display:block; max-width:100%; height:auto; border-radius:6px; border:1px solid #ddd; background:#fff; }
    .image-actions { margin-top:8px; display:flex; gap:6px; align-items:center; }
    .muted { color:#666; font-size:0.95rem; margin-bottom:8px; }
    button, input[type="file"] { cursor:pointer; padding:8px 10px; border-radius:6px; border:0; background:#e0e0e0; }
    button:hover { background:#d0d0d0; }
    small { color:#444; }
    .yesno { margin-left:8px; display:inline-flex; gap:6px; }
    .yesno button { padding:2px 8px; border-radius:6px; border:0; background:#e6e6e6; cursor:pointer; font-size:0.85rem; }
    .yesno button.yes { background:#cfead6; }
    .yesno button.no  { background:#f6cfcf; }
    .global-yesno { margin-left:8px; display:inline-flex; gap:8px; }
    .global-yesno button { padding:8px 10px; border-radius:6px; border:0; background:#e8e8e8; }
    @media (max-width:720px) {
      .image-panel { display:block; margin:12px 0 0 0; max-width:100%; }
      .box { display:block; width:100%; margin-bottom:12px; }
    }
  </style>
</head>
<body>
  <h2>ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© â€” Ù…Ø¹ ØµÙˆØ±Ø© / ØªØµÙ…ÙŠÙ… Canva</h2>
  <p class="muted">Ø­Ù…Ù‘Ù„ÙŠ ØµÙˆØ±Ø© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¹ÙŠÙ‘Ù†Ø© Ø£Ùˆ Ø§Ø¹Ø±Ø¶ÙŠ ØªØµÙ…ÙŠÙ… Canva Ø§Ù„Ù…Ø¶Ù…Ù‘Ù†. Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³ÙÙ„ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ØªÙØ¸Ù‡Ø± Ø§Ø³Ù… Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯ ÙˆØ­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ø¥Ù† ØªÙˆØ§ÙØ±Øª.</p>

  <div class="controls">
    <label>
      <input id="fileInput" type="file" accept="image/*" style="display:none">
      <button id="chooseBtn" type="button">Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©</button>
    </label>
    <button id="sampleBtn" type="button">Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Ø¹ÙŠÙ‘Ù†Ø©</button>
    <button id="canvaBtn" type="button">Ø¹Ø±Ø¶ ØªØµÙ…ÙŠÙ… Canva</button>
    <button id="clearBtn" type="button">Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØµÙˆØ±Ø©/Ø§Ù„ØªØµÙ…ÙŠÙ…</button>

    <div class="global-yesno" style="margin-right:12px;">
      <button id="yesAll" type="button">Ù†Ø¹Ù… Ù„Ù„Ø¬Ù…ÙŠØ¹</button>
      <button id="noAll" type="button">Ù„Ø§ Ù„Ù„Ø¬Ù…ÙŠØ¹</button>
    </div>
  </div>

  <div style="margin-top:12px;">
    <div class="box" id="checkboxBox" aria-label="Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª">
      <ul>
        <li>
          <label><input type="checkbox"> Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠÙ€Ø©</label>
          <ul>
            <li>
              <label><input type="checkbox"> Ù…Ø¬Ù…ÙˆØ¹Ø© A</label>
              <ul>
                <li><label><input type="checkbox"> A1</label></li>
                <li><label><input type="checkbox"> A2</label></li>
                <li><label><input type="checkbox"> A3</label></li>
              </ul>
            </li>

            <li>
              <label><input type="checkbox"> Ù…Ø¬Ù…ÙˆØ¹Ø© B</label>
              <ul>
                <li><label><input type="checkbox"> B1</label></li>
                <li><label><input type="checkbox"> B2</label></li>
              </ul>
            </li>

            <li>
              <label><input type="checkbox"> Ø¹Ù†ØµØ± Ù…Ù†ÙØ±Ø¯</label>
            </li>
          </ul>
        </li>
      </ul>

      <div class="controls" style="margin-top:10px;">
        <button id="reset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
        <button id="check-all">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„</button>
      </div>
    </div>

    <div class="image-panel" id="imagePanel" aria-hidden="false" style="display:inline-block;">
      <div class="muted">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø© / Ø§Ù„ØªØµÙ…ÙŠÙ…:</div>

      <!-- Ø­Ø§ÙˆÙŠØ© Ø¹Ø±Ø¶ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©: Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ ØªØ¹Ø±Ø¶ ØµÙˆØ±Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ (raw) -->
      <div id="previewContainer">
        <img id="preview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" src="https://raw.githubusercontent.com/fatimafazaa-web/Nesting-Squares-Illusion/81bf479df6a27b18ee1d1eb980e92ff13deab1c4/20260105_043927_%D9%A0%D9%A0%D9%A0%D9%A0.png" style="border-radius:6px;">
      </div>

      <div class="image-actions">
        <small id="imageName" style="align-self:center;color:#444;">ØªØµÙ…ÙŠÙ… Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹</small>
        <small id="imageInfo" style="align-self:center;color:#666;margin-right:8px;"></small>
      </div>
    </div>
  </div>

  <script>
    // ===== Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© =====
    document.querySelectorAll('#checkboxBox input[type="checkbox"]').forEach(cb => {
      cb.addEventListener('change', (e) => {
        const checkbox = e.target;
        setChildrenChecked(checkbox, checkbox.checked);
        updateParents(checkbox);
      });
    });

    function setChildrenChecked(checkbox, checked) {
      const li = checkbox.closest('li');
      if (!li) return;
      const childCheckboxes = li.querySelectorAll('ul input[type="checkbox"]');
      childCheckboxes.forEach(c => { c.checked = checked; c.indeterminate = false; });
    }

    function updateParents(startCheckbox) {
      let currentLi = startCheckbox.closest('li');
      while (true) {
        const parentUl = currentLi ? currentLi.parentElement : null;
        if (!parentUl) break;
        const parentLi = parentUl.closest('li');
        if (!parentLi) break;

        const parentCheckbox = parentLi.querySelector(':scope > label input[type="checkbox"]') || parentLi.querySelector('input[type="checkbox"]');
        if (!parentCheckbox) { currentLi = parentLi; continue; }

        const childCheckboxes = parentLi.querySelectorAll(':scope > ul input[type="checkbox"]');
        let checkedCount = 0;
        childCheckboxes.forEach(c => { if (c.checked) checkedCount++; });

        if (checkedCount === 0) { parentCheckbox.checked = false; parentCheckbox.indeterminate = false; }
        else if (checkedCount === childCheckboxes.length) { parentCheckbox.checked = true; parentCheckbox.indeterminate = false; }
        else { parentCheckbox.checked = false; parentCheckbox.indeterminate = true; }

        currentLi = parentLi;
      }
    }

    document.getElementById('reset').addEventListener('click', () => {
      document.querySelectorAll('#checkboxBox input[type="checkbox"]').forEach(c => { c.checked = false; c.indeterminate = false; });
    });
    document.getElementById('check-all').addEventListener('click', () => {
      document.querySelectorAll('#checkboxBox input[type="checkbox"]').forEach(c => { c.checked = true; c.indeterminate = false; });
    });

    // ===== Ø£Ø²Ø±Ø§Ø± Ù†Ø¹Ù…/Ù„Ø§ Ù„ÙƒÙ„ Ø¹Ù†ØµØ± Ùˆ Ù„Ù„Ø¬Ù…ÙŠØ¹ (Ø¥ØµÙ„Ø§Ø­: Ø±Ø¨Ø· Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù…Ø¨Ø§Ø´Ø±Ø© Ù„ÙƒÙ„ Ø²Ø±) =====
    // Ø£Ø¶ÙÙ†Ø§ Ø£Ø²Ø±Ø§Ø± Ù†Ø¹Ù…/Ù„Ø§ Ø¨Ø¬Ø§Ù†Ø¨ ÙƒÙ„ label Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ØŒ Ø«Ù… Ø£Ø¶ÙÙ†Ø§ Ù…Ø³ØªÙ…Ø¹ÙŠ click Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ø£Ø²Ø±Ø§Ø±
    document.querySelectorAll('#checkboxBox label').forEach(label => {
      const cb = label.querySelector('input[type="checkbox"]');
      if (!cb) return;
      if (label.querySelector('.yesno')) return;

      const span = document.createElement('span');
      span.className = 'yesno';
      span.innerHTML = '<button class="yes" type="button" aria-label="Ù†Ø¹Ù…">Ù†Ø¹Ù…</button><button class="no" type="button" aria-label="Ù„Ø§">Ù„Ø§</button>';
      label.appendChild(span);

      // Ø§Ù„Ø¢Ù† Ù†Ø±Ø¨Ø· Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ø¶Ù…Ø§Ù† ØªØ­ÙƒÙ… Ø¯Ù‚ÙŠÙ‚ ÙˆÙ…Ù†Ø¹ ØªØ£Ø«ÙŠØ± Ø§Ù„Ù€ label
      const yesBtn = span.querySelector('.yes');
      const noBtn  = span.querySelector('.no');

      yesBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation(); // ÙŠÙ…Ù†Ø¹ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ label
        cb.checked = true;
        cb.indeterminate = false;
        setChildrenChecked(cb, true);
        updateParents(cb);
      });

      noBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation(); // ÙŠÙ…Ù†Ø¹ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ label
        cb.checked = false;
        cb.indeterminate = false;
        setChildrenChecked(cb, false);
        updateParents(cb);
      });
    });

    const yesAllBtn = document.getElementById('yesAll');
    const noAllBtn  = document.getElementById('noAll');
    yesAllBtn.addEventListener('click', () => {
      document.querySelectorAll('#checkboxBox input[type="checkbox"]').forEach(c => { c.checked = true; c.indeterminate = false; });
    });
    noAllBtn.addEventListener('click', () => {
      document.querySelectorAll('#checkboxBox input[type="checkbox"]').forEach(c => { c.checked = false; c.indeterminate = false; });
    });

    // ===== Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© / ØªØ¨Ø¯ÙŠÙ„ iframe ÙˆØ§Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØ±Ø© =====
    const fileInput = document.getElementById('fileInput');
    const chooseBtn = document.getElementById('chooseBtn');
    const sampleBtn = document.getElementById('sampleBtn');
    const canvaBtn = document.getElementById('canvaBtn');
    const clearBtn = document.getElementById('clearBtn');
    const imagePanel = document.getElementById('imagePanel');
    const previewContainer = document.getElementById('previewContainer');
    const imageName = document.getElementById('imageName');
    const imageInfo = document.getElementById('imageInfo');

    // Ø±Ø§Ø¨Ø· Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø°ÙŠ Ø£Ø¹Ø·ÙŠØªÙÙ‡ (ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ù‡Ù†Ø§)
    const rawCanvaUrl = 'https://www.canva.com/design/DAG9gRCHk3I/hYz-HrP8CQLe4_FQA6mRkw/view';
    const canvaEmbedUrl = rawCanvaUrl.includes('?') ? rawCanvaUrl + '&embed' : rawCanvaUrl + '?embed';

    // Ø­Ø¯Ø« ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
    function setInfoForImgElement(imgEl, originFile) {
      imageName.textContent = originFile && originFile.name ? originFile.name : (imgEl.src ? imgEl.src.split('/').pop() : 'ØµÙˆØ±Ø©');
      imageInfo.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª...';
      if (imgEl.complete && imgEl.naturalWidth) {
        updateInfoWithDimensions(imgEl, originFile);
      } else {
        imgEl.addEventListener('load', () => updateInfoWithDimensions(imgEl, originFile), { once: true });
        imgEl.addEventListener('error', () => { imageInfo.textContent = 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©'; }, { once: true });
      }
      if (originFile && originFile.size) {
        const kb = Math.round(originFile.size / 1024);
        imageInfo.dataset.size = kb + 'KB';
      } else {
        if (imgEl.src && imgEl.src.startsWith('https://raw.githubusercontent.com')) {
          fetch(imgEl.src, { method: 'HEAD' }).then(resp => {
            const len = resp.headers.get('content-length');
            if (len) imageInfo.dataset.size = Math.round(Number(len) / 1024) + 'KB';
          }).catch(()=>{/* Ù„Ø§ Ù†Ø¹Ø±Ø¶ Ø®Ø·Ø£ */});
        }
      }
    }

    function updateInfoWithDimensions(imgEl, originFile) {
      const dims = `${imgEl.naturalWidth}px Ã— ${imgEl.naturalHeight}px`;
      const sizeText = imageInfo.dataset.size ? ' â€” ' + imageInfo.dataset.size : '';
      imageInfo.textContent = dims + sizeText;
    }

    // Ø²Ø± Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²
    chooseBtn.addEventListener('click', () => fileInput.click());

    fileInput.addEventListener('change', (e) => {
      const file = e.target.files && e.target.files[0];
      if (!file) return clearPreview();
      if (!file.type.startsWith('image/')) { alert('Ø§Ù„Ù…Ù„Ù Ù„ÙŠØ³ ØµÙˆØ±Ø©.'); return; }
      const reader = new FileReader();
      reader.onload = (ev) => {
        previewContainer.innerHTML = '<img id="preview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" src="" style="border-radius:6px;">';
        const imgEl = previewContainer.querySelector('#preview');
        imgEl.src = ev.target.result;
        setInfoForImgElement(imgEl, file);
        showImagePanel();
      };
      reader.readAsDataURL(file);
    });

    // Ø²Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙˆØ±Ø© Ø¹ÙŠÙ‘Ù†Ø©
    sampleBtn.addEventListener('click', () => {
      previewContainer.innerHTML = '<img id="preview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" src="https://images.unsplash.com/photo-1542281286-9e0a16bb7366?w=800&q=60&auto=format&fit=crop" style="border-radius:6px;">';
      const imgEl = previewContainer.querySelector('#preview');
      setInfoForImgElement(imgEl, null);
      imageName.textContent = 'ØµÙˆØ±Ø© Ø¹ÙŠÙ‘Ù†Ø©';
      showImagePanel();
    });

    // Ø²Ø± Ø¹Ø±Ø¶ ØªØµÙ…ÙŠÙ… Canva (ÙŠÙ†Ø´Ø¦ iframe Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹)
    canvaBtn.addEventListener('click', () => {
      previewContainer.innerHTML = '';
      const iframe = document.createElement('iframe');
      iframe.src = canvaEmbedUrl;
      iframe.width = '100%';
      iframe.height = '360';
      iframe.frameBorder = '0';
      iframe.setAttribute('allowfullscreen', '');
      iframe.loading = 'lazy';
      iframe.title = 'ØªØµÙ…ÙŠÙ… Ù…Ù† Canva';
      previewContainer.appendChild(iframe);
      imageName.textContent = 'ØªØµÙ…ÙŠÙ… Ù…Ù† Canva';
      imageInfo.textContent = '';
      showImagePanel();
    });

    // Ø²Ø± Ø§Ù„Ø¥Ø²Ø§Ù„Ø©: ÙŠØ¹ÙŠØ¯ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø¥Ù„Ù‰ Ø¹Ù†ØµØ± img ÙØ§Ø±Øº ÙˆÙŠØ®ÙÙŠ Ø§Ù„Ù„ÙˆØ­Ø©
    clearBtn.addEventListener('click', clearPreview);

    function showImagePanel() {
      imagePanel.style.display = 'inline-block';
      imagePanel.setAttribute('aria-hidden','false');
    }
    function clearPreview() {
      previewContainer.innerHTML = '<img id="preview" alt="Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±Ø©" src="">';
      imageName.textContent = '';
      imageInfo.textContent = '';
      delete imageInfo.dataset.size;
      fileInput.value = '';
      imagePanel.style.display = 'none';
      imagePanel.setAttribute('aria-hidden','true');
    }

    // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©: Ø­Ø¯Ù‘Ø« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ù† Ø¸Ù‡Ø±Øª
    window.addEventListener('load', () => {
      const imgEl = previewContainer.querySelector('img');
      if (imgEl && imgEl.src) {
        setInfoForImgElement(imgEl, null);
      }
    });

    // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ ØªØµÙ…ÙŠÙ…Ø§Øª Canva ØªÙ…Ù†Ø¹ Ø§Ù„ØªØ¶Ù…ÙŠÙ† Ø¯Ø§Ø®Ù„ iframe (X-Frame-Options).
// Ø¥Ù† Ù„Ù… ÙŠØ¸Ù‡Ø± iframe Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ "Ø¹Ø±Ø¶ ØªØµÙ…ÙŠÙ… Canva"ØŒ Ø§Ø³ØªØ®Ø¯Ù…ÙŠ Ø²Ø± "Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø©" Ø¨Ø¹Ø¯ ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ… ÙƒØµÙˆØ±Ø©.
 const questions = [
  "Ù‡Ù„ Ù„Ø§Ø­Ø¸Øª Ø®Ø¯Ø§Ø¹Ù‹Ø§ Ø¨ØµØ±ÙŠÙ‹Ø§ØŸ",
  "Ù‡Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ù…ØªØ³Ø§ÙˆÙŠØ© Ø¨Ø§Ù„Ø­Ø¬Ù…ØŸ"
];

let currentQuestion = 0;
let startTime = 0;
let responses = [];

function showQuestions() {
  currentQuestion = 0;
  responses = [];
  document.getElementById("questionsBox").style.display = "block";
  showCurrentQuestion();
}

function showCurrentQuestion() {
  document.getElementById("questionText").textContent =
    questions[currentQuestion];
  startTime = performance.now();
}

function saveAnswer(answer) {
  const rt = Math.round(performance.now() - startTime);

  responses.push({
    question: questions[currentQuestion],
    answer: answer,
    rt: rt
  });

  console.log(responses[responses.length - 1]);

  currentQuestion++;

  if (currentQuestion < questions.length) {
    showCurrentQuestion();
  } else {
    document.getElementById("questionsBox").innerHTML =
      "<p>Ø´ÙƒØ±Ù‹Ø§ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ ğŸŒ¸</p>";

    // Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¨Ø· Ù…Ø¹ PsychoJS Ù„Ø§Ø­Ù‚Ù‹Ø§
    /*
    responses.forEach((r, i) => {
      psychoJS.experiment.addData('Q' + (i+1), r.answer);
      psychoJS.experiment.addData('Q' + (i+1) + '_RT', r.rt);
    });
    */
  }
}
// ===== ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© =====
const questions = [
  "Ù‡Ù„ Ù„Ø§Ø­Ø¸Øª Ø®Ø¯Ø§Ø¹Ù‹Ø§ Ø¨ØµØ±ÙŠÙ‹Ø§ØŸ",
  "Ù‡Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ù…ØªØ³Ø§ÙˆÙŠØ© Ø¨Ø§Ù„Ø­Ø¬Ù…ØŸ"
];

let currentQuestion = 0;
let startTime = 0;
let results = [];

// ===== Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© =====
function showQuestions() {
  currentQuestion = 0;
  results = [];
  document.getElementById("questionsBox").style.display = "block";
  showCurrentQuestion();
}

// ===== Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆØ¨Ø¯Ø¡ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø²Ù…Ù† =====
function showCurrentQuestion() {
  document.getElementById("questionText").textContent =
    questions[currentQuestion];
  startTime = performance.now(); // â±ï¸ Ø¨Ø¯Ø¡ Ù‚ÙŠØ§Ø³ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
}

// ===== Ø­ÙØ¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆÙ‚ÙŠØ§Ø³ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© =====
function saveAnswer(answer) {
  const rt = Math.round(performance.now() - startTime); // â±ï¸ Ø­Ø³Ø§Ø¨ Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
  results.push({
    question: questions[currentQuestion],
    answer: answer,
    reactionTime_ms: rt
  });

  currentQuestion++;

  if (currentQuestion < questions.length) {
    showCurrentQuestion();
  } else {
    finishExperiment();
  }
}

// ===== Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© =====
function finishExperiment() {
  console.log("Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:", results);

  document.getElementById("questionsBox").innerHTML =
    "<p>ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§ØªØŒ Ø´ÙƒØ±Ù‹Ø§ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ ğŸŒ¸</p>";

  /*
  ğŸ”¬ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ (PsychoJS):
  results.forEach((r, i) => {
    psychoJS.experiment.addData('Q' + (i+1), r.answer);
    psychoJS.experiment.addData('Q' + (i+1) + '_RT', r.reactionTime_ms);
  });
  */
}
  </script>
<button onclick="showQuestions()">Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</button>
  <!-- Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
<div id="questionsBox" style="
  display:none;
  margin-top:30px;
  padding:20px;
  background:#eef2ff;
  border-radius:10px;
  text-align:center;
  font-size:22px;
">

  <p id="questionText"></p>

  <button onclick="saveAnswer('yes')" style="margin:10px;font-size:20px;">Ù†Ø¹Ù…</button>
  <button onclick="saveAnswer('no')"  style="margin:10px;font-size:20px;">Ù„Ø§</button>

</div>
</body>
</html>
